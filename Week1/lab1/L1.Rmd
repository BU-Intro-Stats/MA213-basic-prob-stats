---
title: "MA213 Basic Statistics and Probability - Lab1"
output:
  pdf_document: default
  html_document:
    code_download: true 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
```

# **Lab 1: Introduction to R**

In this lab session, we will learn basic syntax of R and how to use R for data exploratory data analyses.

------------------------------------------------------------------------

#### Learning Objectives

-   Use R for Data Management and Exploration: Utilize R to load, pre-process, and explore data through visualization and summarization techniques.
-   Data Handling and Preprocessing: I can use R to load, clean, and preprocess real-world data sets, applying techniques such as handling missing values, transforming variables, and merging data sources.
-   Exploratory Data Analysis (EDA) and Visualization. I can conduct exploratory data analysis in R, creating appropriate visualizations (e.g., histograms, box plots, scatter plots) and summary statistics to uncover data patterns and inform subsequent analysis.

------------------------------------------------------------------------

We assume that you have already installed R and Rstudio (You need to install first R and then install Rstudio because Rstudio is an IDE for R).

------------------------------------------------------------------------

#### Install R and RStudio.

You can download and install R from

<https://www.r-project.org/>

And you can download and install RStudio from

<https://posit.co/download/rstudio-desktop/>

------------------------------------------------------------------------

## Pre-lab activities

-   We are going to work in groups. Let’s form pairs. You can discuss the exercise questions and post-lab activities with your members.

```{r}
num_ppl_each_group = 2
student_list <- read.csv("StudentList.csv")
N <- nrow(student_list)

# Sort by last name
student_list <- student_list %>% arrange(Last)
student_list$number <- 1:N

# Shuffle the student numbers randomly
shuffled <- sample(student_list$number)

# Create group
group_ids <- rep(1:ceiling(N / num_ppl_each_group), num_ppl_each_group)[1:N]

# Assign data frame
group_df <- data.frame(number = shuffled, group = group_ids)
grouped_students <- left_join(group_df, student_list, by = "number")

grouped_students <- grouped_students %>% arrange(group)

# Output
grouped_students %>% select(!number)
```

## Introduction of R

-   R is Programming language and environment statistical computing, data manipulation and graphical display.

-   R is free and open source.

-   Rstudio is also free and open source IDE (Integrated Development Environment) for R.

### Brief walk through about RStudio interface

![RStudio overview](Screen_Shot_Rstudio.png){width="767"}

window `1` : script window (text editor)

window `2` : console window (this is where you type your R code and run)

window `3` : plots, files, packages, help... window

window `4` : environment window

#### Set up `working directory`

-   You can go to `Session` → `set working directory` → `choose directory` and then choose your working directory.

    or

-   You can go to `Files` tap → ☸︎ →'copy folder path to Clipboard'

    then paste into `setwd()` function

```{r eval=FALSE, include=FALSE}

setwd('path of your working directory')

```

```{r eval=FALSE, include=FALSE}

# for example
setwd('/Users/ylim2/Documents/Work/MA213') # this will set up your working directory
getwd() # to check where you are at in term of your working directory

```

or

-   You can go to `Files` tap → ☸︎ →'Set As Working Directory'

### Exercise

#### Q0. Let's set up your working directory.

```{r}



```

#### How to run code?

1.  Directly type your command in the console window.

2.  You can run your R chunk by pressing run button `▶` in the R chunk in your R markdown file.

3.  You can write your commands on your R script file and highlight the commands and press `run`

```         
Run shortcut : `ctrl` + `enter` (windows) or `cmd` + `enter` (mac).
```

### R is basically a big calculator (some mathematics) : basic math operations to matrix operations

> -   Basic math operations
>
> `+`: add
>
> `-` : substract
>
> `*` : multiply
>
> `/` : divide
>
> `^` or `**`: exponent

for example

$(\frac{12}{24})^2$

```{r}
(12/24)^(2)
#or
(12/24)**(2)

```

### Assign values to a variable

Let's say if you want to save 10 to variable `A`. You can do the following command.

```{r}
A <- 10
A <<- 10
10 -> A
10 ->> A
A = 10

# A <- 10
# A = 10 
# commonly used ones 
```

And you can check what value the variable `A` has by calling it or using `print()` function

```{r}
A
```

```{r}
print(A)
```

Assigning character type information to a variable

```{r}
SchoolName <- "Boston University"
SchoolName
```

### Assign values to a vector

You can assign multiple values to a vector.

```{r}
GPA <- c(3.2, 3.7, 3.9, 2.3, 2.7)
FirstName <- c("Tom", "Sarah", "Nick", "Amy", "John")
GPA
FirstName

```

There are some useful functions for a vector

-   `seq(from=a, to=b, by=c)` : this generates a sequence vector from value a to b by c increment.

-   `rep(x, times = n)` : this replicate element `x` for n times.

-   `length(x)` : this will give you the length of vector `x`

#### Examples

```{r}
my_vector = seq(1, 10, 2)
my_vector

```

```{r}
another_vector = 1:10
another_vector

```

```{r}

vector3 = rep("BU", 25)
vector3

```

### Exercise

##### Q1. Use R commands to calculate those and print `C` .

$A = \exp(3),$ $B = \frac{(-3)^{4}}{10},$

$A \times B = C$

```{r}
#


```

##### Q2. Print `Number` vector that has number from 1 to 99 all odd numbers. And make a vector named `School` that has 20 "Boston" and 10 "New York".

```{r}
#


```

### Accessing vector elements

Each element in a vector is associated with index number. The index in R starts from 1 as the first item.

For example,

```{r}
#
SomeNames <- c("Alpha", "Bravo", "Charlie")


```

![Index of Vector Elements](index.jpg)

You can access the third element of `SomeNames` by `SomeNames[3]` .

You can also access, for example, the second and the third elements by `SomeNames[2:3]` .

```{r}
#
SomeNames[3]

SomeNames[2:3]


```

Numeric vector can be subsetted using condition

``` {.R style="gray"}
                         x[condition]
```

the conditional statements (condition) you can use could be

``` {.R style="yellow"}
x == 20    # x equals to 20
x < 100
x <= 100
x > 100
x >= 100
x != 100   # x not equal to 100
```

For example

```{R}
Numbers <- c(20, 30, 50, 70, 120, 200)
Numbers[Numbers<100]


```

![Subsetting vector using condition](Slicing.jpg)

### Importing and Subsetting Data

You can import Data by using `read.table()` function.

```{r}

my_data <- read.csv("mtcars.csv")
# to be able to import this file, this file needs to be in your working directory

```

You can access subset of data similar way as you with a vector.

-   Specific element by `my_data[row, column]`

    -   \| for example, the element in the third row and the fourth column `my_data[3,4]`

-   Specific row by `my_data[row,]`

    -   \| for example, all the element of the third row `my_data[3,]`

-   Specific column by `my_data[,column]`

    -   \| for example, all the element of the fifth column `my_data[,5]`

-   Access the column by using `$` sign such as `my_data$column_name`

    -   \| for example, `hp` column from `my_data` is `my_data$hp`

-   Conditional statement works similar as vectors (row wise and column wise)

### Exercise

You are going to explore the data extracted from the 1974 *Motor Trend* US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973–74 models).

You can look at the description of the data by `help(mtcars)` .

Please remember to use `help()` function or `?function_name` method. You are going to use it a lot when you use R.

Here are some useful functions for vectors.

`length(x)` : get the length of vector `x`

`unique(x)` : get the unique values of vector `x`

`min(x)` : get the minimum value of vector `x`

`max(x)` : get the maximum value of vector `x`

`mean(x)` : get the mean (average) of vector `x`

##### Q3. Import `mtcars.csv` to `cars_data`

```{r}
#


```

##### Q4. You are interested in first five data (first five rows). Assign first five rows to `cars_data_5` and print it.

```{r}
#


```

##### Q5. You are interested in cars with horsepower greater than 100. Show the cars that have horsepower greater than 100.

```{r}
#

```

##### Q6. This time, you are only interested in 4 cylinder cars with gross horsepower(5th column) and weight in 1000lbs (7th column). Show it! (You need to show `cyl`, `hp` and `wt` column which are 3rd, 5th and 7th column).

```{r}
#

```

##### Q6. You are interested in the total sum of horse power and the mean of mils per gallon of all the cars in the data. Assign them to `hp_sum` and `mpg_mean`. You can use `sum()` function and `mean()` function.

```{r}
#

```

------------------------------------------------------------------------

## Post-lab activities

Please name your submission as `lab1.R` on GradeScope.

1.  Calculate these questions and assign the answers to the corresponding variables.

a). $$a=\frac{45}{9}$$

b). $$ b=25^{4}$$

c). $$ c=\exp(-10) $$

For example, you would write a line of code as the following

``` r
a <- 45/9
```

2.  Create a vector with

(2,2,...,2,4,4,4) where there are 12 occurrences of 2 and 3 occurrences 4 and assign it to object `d` .

3.  You conducted a survey what courses a certain group of students are taking this semester. There are 17 for 'MA213', 5 for 'CH101' and 10 for 'MA 124'. Assign these to object `e`.

4.  In `mtcars.csv` data,

    Import `mtcars.csv` to `cars_data` , you are only interested in automatic transmission cars with weight over 3000 lbs. Assign it to `cars_data_sub` (You need to get `cars_data` and `cars_data_sub`).

5.  You are interested in how many different number of cylinders of the cars in the datasets. You can count them and distinguish them in this dataset. However, if it is a large data, it is not possible to do it manually. Assign unique number of cylinders of the cars in the data by using `unique()` function and assign it to variable `unique_cyl` .
